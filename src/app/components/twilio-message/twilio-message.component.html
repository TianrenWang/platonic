<div class="message">
  <div class="mat-elevation-z1 action-buttons">
    <button
      mat-icon-button
      style="border-radius: 10%"
      *ngIf="debate"
      (click)="flagSource()"
      [disabled]="(flaggedMessage$ | async) !== null ||
      message.attributes.source !== undefined ||
      !(activeChannel$ | async).attributes.argument"
      >
      <mat-icon>flag</mat-icon>
    </button>
    <button
      mat-icon-button
      style="border-radius: 10%"
      *ngIf="debate"
      [disabled]="(activeChannel$ | async).attributes.argument"
      (click)="createArgument()"
      >
      <mat-icon>bolt</mat-icon>
    </button>
  </div>
  <div style="margin: 5px;">
    <app-avatar *ngIf="isChunk === false" class="avatar" [user]='message.from' [height]='31' [width]='31'></app-avatar>
    <span *ngIf="isChunk === true"><small>{{time.substring(0, time.length - 6)}}</small></span>
  </div>
  <div style="margin-left: 41px;">
    <div *ngIf="isChunk === false" style="font-family: sans-serif;">
      <b>{{message.from.username}}</b> &nbsp;<small>{{time}}</small><br>
      {{message.text}}
    </div>
    <div style="padding: 3px 0;" *ngIf="isChunk === true">{{message.text}}</div>
    <div *ngIf="message.attributes && message.attributes.source">
      Source:<br>
      {{message.attributes.source}}
    </div>
  </div>
</div>
